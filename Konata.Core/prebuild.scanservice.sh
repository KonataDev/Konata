#!bin/bash

SOURCE=$2
TARGET=$SOURCE"Msf/ServiceTouch.cs"
echo [PreBuild.ScanService] $TARGET

# Remove old file.
echo [PreBuild.ScanService] Clean.
rm $TARGET || true;

# Scan folders and generate the new file.
echo [PreBuild.ScanService] Generating service touch file.
cat > $TARGET << _EOF_
// This file is automatic generated by script.
// DO NOT EDIT DIRECTLY.

using System;

namespace Konata.Msf
{
    internal abstract partial class Service
    {
        static bool TouchServices()
        {

            return true;
        }
    }
}

_EOF_

echo [PreBuild.ScanService] Success.